# 即席翻訳 Chrome拡張機能

選択したテキストをGemini APIを使用して即座に翻訳・要約するChrome拡張機能です。

## 主な機能

- テキスト選択による自動翻訳・要約
- Gemini APIを使用した高精度な翻訳（日本語、英語対応）
- 複数のモデル選択（Gemini 2.5 Flash、2.5 Pro、1.5 Flash、1.5 Pro）
- **フロートウィンドウ**での表示（自由に移動・リサイズ可能）
- **翻訳/要約タブ切り替え**機能
- **初学者向け解説機能**（要約タブ内）
- **選択完了待機機能**（デバウンス処理）
- ワンクリックでのクリップボードコピー

## 対応モデル

- **Gemini 2.5 Flash**（推奨・高速）
- **Gemini 2.5 Pro**（高精度）
- **Gemini 1.5 Flash**（従来モデル）
- **Gemini 1.5 Pro**（従来モデル）

## インストール

1. **ファイルのダウンロード**
   - このリポジトリをダウンロードまたはクローン

2. **Chrome拡張機能として読み込み**
   - Chromeで `chrome://extensions/` を開く
   - 右上の「デベロッパーモード」を有効にする
   - 「パッケージ化されていない拡張機能を読み込む」をクリック
   - ダウンロードしたフォルダを選択

3. **APIキーの設定**
   - 拡張機能のアイコンを右クリックし、「オプション」を選択
   - Gemini APIキーを入力して保存
   - 使用するモデル（Gemini 2.5 Flash、2.5 Pro、1.5 Flash、1.5 Pro）を選択

4. **動作テスト**
   - 任意のWebページでテキストを選択
   - 拡張機能アイコンをクリックしてフロートウィンドウを開く
   - 翻訳と要約が表示されることを確認

## 使い方

1. **初期設定**
   - 拡張機能アイコンを右クリック → 「オプション」
   - Gemini APIキーを入力して保存
   - 使用するモデル（Gemini 2.5 Flash、2.5 Pro、1.5 Flash、1.5 Pro）を選択

2. **翻訳・要約の実行**
   - 拡張機能アイコンをクリックしてフロートウィンドウを開く
   - Webページ上でテキストを選択
   - 選択完了後、自動的に翻訳・要約が実行されます

3. **タブ切り替え**
   - 「翻訳」タブ：選択テキストの翻訳結果を表示
   - 「要約」タブ：選択テキストの要約結果を表示

4. **初学者向け解説**
   - 要約タブで「🎓 初学者向け解説を表示」ボタンをクリック
   - 選択テキストの詳しい解説が表示されます

5. **ウィンドウ操作**
   - **移動**：ヘッダー部分をドラッグ
   - **リサイズ**：右下角をドラッグ
   - **最小化**：ヘッダーの「−」ボタン
   - **閉じる**：ヘッダーの「×」ボタン

## 新機能の詳細

### デバウンス処理
- テキスト選択中の誤動作を防ぐため、選択完了から800ms待機してから処理を開始
- 選択途中での翻訳実行を防止

### フロートウィンドウ
- 自由に移動・リサイズ可能な独立ウィンドウ
- 他のタブに切り替えても表示を維持
- ヘッダー部分をドラッグして移動
- 右下角をドラッグしてリサイズ

### タブ切り替え機能
- 翻訳と要約を別々のタブで表示
- 見やすく整理された結果表示

### 初学者向け解説
- 要約結果に加えて、より詳しい解説を表示
- 専門用語の説明や背景情報を含む
- ボタンクリックで表示/非表示を切り替え

## 主要な機能と特徴
- **フロートウィンドウ**: 自由に移動・リサイズ可能な独立ウィンドウ
- **自動処理**: 選択テキスト変更時の自動翻訳・要約（デバウンス処理付き）
- **複数モデル対応**: Gemini 2.5 Flash、2.5 Pro、1.5 Flash、1.5 Proから選択可能
- **タブ切り替え**: 翻訳と要約を分離した見やすいUI
- **解説機能**: 初学者向けの詳細解説表示
- **ワンクリックコピー**: 翻訳と要約をそれぞれ個別にコピー可能

## 技術仕様

- **Manifest Version**: 3
- **対応ブラウザ**: Chrome（バージョン88以降推奨）
- **API**: Gemini API
- **権限**: activeTab, storage
- **UI**: フロートウィンドウ（popup type）

## トラブルシューティング

### APIキーエラー
- Gemini APIキーが正しく設定されているか確認
- APIキーの形式: `AIzaSy...` で始まる

### 翻訳・要約が表示されない
- インターネット接続を確認
- 選択テキストが空でないか確認
- デベロッパーツールでエラーメッセージを確認

### フロートウィンドウが表示されない
- 拡張機能が有効になっているか確認
- ポップアップブロッカーを無効にする
- Chromeを再起動してみる 